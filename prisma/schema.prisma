datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {

  id             String @id @unique
  username       String
  email          String @unique
  hash          String
  refreshToken   String?
  store          Store[]
  paymentLinks   PaymentLinks[]
  paymentButtons PaymentButtons[]
  wallets        Wallets[]

  @@map(name: "user")
}

model Wallets {
  id       String @id
  walletId String
  authorId String
  address  String

  author User @relation(fields: [authorId], references: [id])

  @@map(name: "wallets")
}

model Store {
  id          String @id
  authorId    String
  title       String
  description String
  price       String
  image       String
  currency    String
  author      User   @relation(fields: [authorId], references: [id])

  @@map(name: "store")
}

model PaymentLinks {
  id          String @id
  authorId    String
  title       String
  description String
  author User @relation(fields: [authorId], references: [id])

  @@map(name: "paymentLinks")
}

model PaymentButtons {
  id          String @id
  authorId    String
  title       String
  description String
  author User @relation(fields: [authorId], references: [id])

  @@map(name: "paymentButtons")
}
